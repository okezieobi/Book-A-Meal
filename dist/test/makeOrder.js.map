{"version":3,"sources":["../../test/makeOrder.js"],"names":["chai","use","chaiHttp","describe","before","dataSetup","meals","menus","orders","it","testData","customerName","menuList","request","app","post","send","response","to","have","status","be","an","body","property","equal","data","has"],"mappings":"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","sourcesContent":["import {\n  expect,\n  chai,\n  chaiHttp,\n  app,\n  dataSetup,\n} from './index';\n\nchai.use(chaiHttp);\n\ndescribe('Test endpoint at \"/api/v1/orders\" to select meal option with POST', () => {\n  before(() => {\n    dataSetup.meals();\n    dataSetup.menus();\n    dataSetup.orders();\n  });\n\n  it('should select at least one menu option at \"/api/v1/orders\" with POST', async () => {\n    const testData = {\n      customerName: 'Frank',\n      menuList: 'BreakFast Dinner',\n    };\n    const response = await chai.request(app).post('/api/v1/orders').send(testData);\n    expect(response).to.have.status(201);\n    expect(response).to.be.an('object');\n    expect(response.body).to.have.property('data');\n    expect(response.body).to.have.property('message').equal('Success! Menu selected and order made');\n    expect(response.body.data).to.have.property('id');\n    expect(response.body.data).to.have.property('customer').equal(testData.customerName);\n    expect(response.body.data).to.has.property('total');\n    expect(response.body.data).to.have.property('menu');\n  });\n\n  it('should not select a menu option at \"/api/v1/orders\" with POST if customer name in request does not exist', async () => {\n    const testData = {\n      menuList: 'BreakFast Dinner',\n    };\n    const response = await chai.request(app).post('/api/v1/orders').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Customer name is required');\n  });\n\n  it('should not select a menu option at \"/api/v1/orders\" with POST if customer name in request is an empty string', async () => {\n    const testData = {\n      customerName: '',\n      menuList: 'BreakFast Dinner',\n    };\n    const response = await chai.request(app).post('/api/v1/orders').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Customer name is required');\n  });\n\n  it('should not select a menu option at \"/api/v1/orders\" with POST if customer name in request are not letters', async () => {\n    const testData = {\n      customerName: '0or]f{(uu',\n      menuList: 'BreakFast Dinner',\n    };\n    const response = await chai.request(app).post('/api/v1/orders').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Customer name must be letters');\n  });\n\n  it('should not create a menu at \"/api/v1/menus\" with POST if menu options in request does not exist', async () => {\n    const testData = {\n      customerName: 'Frank',\n    };\n    const response = await chai.request(app).post('/api/v1/orders').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Menu list is required');\n  });\n\n  it('should not create a menu at \"/api/v1/menus\" with POST if menu options in request is an empty string', async () => {\n    const testData = {\n      customerName: 'Frank',\n      menuList: '',\n    };\n    const response = await chai.request(app).post('/api/v1/orders').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Menu list is required');\n  });\n\n  it('should not create a menu at \"/api/v1/menus\" with POST if menu options in request ae not letters', async () => {\n    const testData = {\n      customerName: 'Frank',\n      menuList: '0{0rir}t[(',\n    };\n    const response = await chai.request(app).post('/api/v1/orders').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Menu list must be letters and seperated by spaces');\n  });\n});\n"],"file":"makeOrder.js"}