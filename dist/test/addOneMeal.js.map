{"version":3,"sources":["../../test/addOneMeal.js"],"names":["chai","use","chaiHttp","describe","before","dataSetup","meals","menus","orders","it","testData","mealOptionName","mealOptionPrice","request","app","post","send","response","to","have","status","body","be","an","property","equal","data"],"mappings":"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","file":"addOneMeal.js","sourcesContent":["import {\n  expect,\n  chai,\n  chaiHttp,\n  app,\n  dataSetup,\n} from './index';\n\nchai.use(chaiHttp);\n\ndescribe('Test endpoint at \"/v1/meals\" to create a meal option with POST', () => {\n  before(() => {\n    dataSetup.meals();\n    dataSetup.menus();\n    dataSetup.orders();\n  });\n  it('should create a meal option at \"/v1/meal\" with post if all request data are valid', async () => {\n    const testData = {\n      mealOptionName: 'Dodo',\n      mealOptionPrice: 10,\n    };\n    const response = await chai.request(app).post('/v1/meals').send(testData);\n    expect(response).to.have.status(201);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('data');\n    expect(response.body).to.have.property('message').equal('Success! Meal option created');\n    expect(response.body.data).to.have.property('id');\n    expect(response.body.data).to.have.property('name').equal(testData.mealOptionName);\n    expect(response.body.data).to.have.property('price').equal(testData.mealOptionPrice);\n  });\n\n  it('should not create a meal option at \"/v1/meals\" with POST if meal option name in request does not exist', async () => {\n    const testData = {\n      mealOptionPrice: 10,\n    };\n    const response = await chai.request(app).post('/v1/meals').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Meal option name is required');\n  });\n\n  it('should not create a meal option at \"/v1/meals\" with POST if meal option name in request is an empty string', async () => {\n    const testData = {\n      mealOptionName: '',\n      mealOptionPrice: 10,\n    };\n    const response = await chai.request(app).post('/v1/meals').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Meal option name is required');\n  });\n\n  it('should not create a meal option at \"/v1/meals\" with POST if meal option name in request are not letters', async () => {\n    const testData = {\n      mealOptionName: '0(}fieidfjd',\n      mealOptionPrice: 10,\n    };\n    const response = await chai.request(app).post('/v1/meals').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Meal option name must be letters');\n  });\n\n  it('should not create a meal option at \"/v1/meals\" with POST if meal option price in request does not exist', async () => {\n    const testData = {\n      mealOptionName: 'Dodo',\n    };\n    const response = await chai.request(app).post('/v1/meals').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Meal option price is required');\n  });\n\n  it('should not create a meal option at \"/v1/meals\" with POST if meal option price in request is an empty string', async () => {\n    const testData = {\n      mealOptionName: 'Dodo',\n      mealOptionPrice: '',\n    };\n    const response = await chai.request(app).post('/v1/meals').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Meal option price is required');\n  });\n\n  it('should not create a meal option at \"/v1/meals\" with POST if meal option price in request is NOT a number', async () => {\n    const testData = {\n      mealOptionName: 'Dodo',\n      mealOptionPrice: 'p0{f(jf]',\n    };\n    const response = await chai.request(app).post('/v1/meals').send(testData);\n    expect(response).to.have.status(400);\n    expect(response.body).to.be.an('object');\n    expect(response.body).to.have.property('message').equal('Fail! Meal option price must be numbers');\n  });\n});\n"]}