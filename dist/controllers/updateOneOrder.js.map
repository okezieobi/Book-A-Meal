{"version":3,"sources":["../../controllers/updateOneOrder.js"],"names":["bookAMeal","updateOneOrder","req","res","body","customerName","status","send","services","requiredNameErr","test","mustBeLettersErr","menuList","stringToArrayErr","findOrder","findOne","params","data","orders","orderList","orderId","length","createOne","orderFormat","id","updateOne"],"mappings":";;;;;;AAAA;;;;AACA;;;;AAEA;;;;;;;AADA;;;AAGAA,gBAAUC,cAAV;AAAA,qEAA2B,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEvB,gBAAI,CAACD,IAAIE,IAAJ,CAASC,YAAV,IAA0BH,IAAIE,IAAJ,CAASC,YAAT,KAA0B,EAAxD,EAA4D;AAC1DF,kBAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,mBAASC,eAAT,CAAyB,eAAzB,CAArB;AACD,aAFD,MAEO,IAAK,aAAD,CAAgBC,IAAhB,CAAqBR,IAAIE,IAAJ,CAASC,YAA9B,MAAgD,KAApD,EAA2D;AAChEF,kBAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,mBAASG,gBAAT,CAA0B,eAA1B,CAArB;AACD,aAFM,MAEA,IAAI,CAACT,IAAIE,IAAJ,CAASQ,QAAV,IAAsBV,IAAIE,IAAJ,CAASQ,QAAT,KAAsB,EAAhD,EAAoD;AACzDT,kBAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,mBAASC,eAAT,CAAyB,WAAzB,CAArB;AACD,aAFM,MAEA,IAAK,eAAD,CAAkBC,IAAlB,CAAuBR,IAAIE,IAAJ,CAASQ,QAAhC,MAA8C,KAAlD,EAAyD;AAC9DT,kBAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,mBAASK,gBAAT,CAA0B,WAA1B,CAArB;AACD,aAFM,MAEA;AACCC,uBADD,GACaN,mBAASO,OAAT,CAAiBb,IAAIc,MAArB,EAA6BC,iBAAKC,MAAL,CAAYC,SAAzC,CADb;;AAEL,kBAAI,CAACL,SAAL,EAAgB;AACdZ,oBAAIE,IAAJ,CAASgB,OAAT,GAAmBH,iBAAKC,MAAL,CAAYC,SAAZ,CAAsBE,MAAzC;AACAb,mCAASc,SAAT,CAAmBnB,GAAnB,EAAwBc,iBAAKC,MAAL,CAAYC,SAApC,EAA+CF,iBAAKC,MAAL,CAAYK,WAAZ,CAAwBrB,IAAIE,IAA5B,CAA/C,EAAkF,uDAAlF;AACD,eAHD,MAGO;AACLF,oBAAIE,IAAJ,CAASgB,OAAT,GAAmBN,UAAUU,EAA7B;AACAhB,mCAASiB,SAAT,CAAmBtB,GAAnB,EAAwBc,iBAAKC,MAAL,CAAYC,SAApC,EAA+CF,iBAAKC,MAAL,CAAYK,WAAZ,CAAwBrB,IAAIE,IAA5B,CAA/C,EAAkF,mDAAlF;AACD;AACF;AAnBsB;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAAA;AAAA;AAAA;AAAA;;kBAyBeJ,gBAAUC,c","file":"updateOneOrder.js","sourcesContent":["import data from '../models';\nimport services from '../services';\n// @ts-ignore\nimport bookAMeal from './index';\n\nbookAMeal.updateOneOrder = async (req, res) => {\n  try {\n    if (!req.body.customerName || req.body.customerName === '') {\n      res.status(400).send(services.requiredNameErr('Customer name'));\n    } else if ((/^[A-Za-z]+$/).test(req.body.customerName) === false) {\n      res.status(400).send(services.mustBeLettersErr('Customer name'));\n    } else if (!req.body.menuList || req.body.menuList === '') {\n      res.status(400).send(services.requiredNameErr('Menu list'));\n    } else if ((/^[A-Za-z\\s]+$/).test(req.body.menuList) === false) {\n      res.status(400).send(services.stringToArrayErr('Menu list'));\n    } else {\n      const findOrder = services.findOne(req.params, data.orders.orderList);\n      if (!findOrder) {\n        req.body.orderId = data.orders.orderList.length;\n        services.createOne(res, data.orders.orderList, data.orders.orderFormat(req.body), 'Menu order not found, menu order successfully created');\n      } else {\n        req.body.orderId = findOrder.id;\n        services.updateOne(res, data.orders.orderList, data.orders.orderFormat(req.body), 'Menu order found, menu order successfully updated');\n      }\n    }\n  } catch (err) {\n    throw err;\n  }\n};\n\nexport default bookAMeal.updateOneOrder;\n"]}