{"version":3,"sources":["../../controllers/updateOneMealOption.js"],"names":["bookAMeal","updateOneMealOption","req","res","body","mealOptionName","test","status","send","message","mealOptionPrice","find","data","meals","mealOptionList","meal","id","parseInt","params","mealId","length","mealFormat","push","splice"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;AAEAA,eAAUC,mBAAV;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAgC,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAC1B,CAACD,GAAG,CAACE,IAAJ,CAASC,cAAV,IAA4BH,GAAG,CAACE,IAAJ,CAASC,cAAT,KAA4B,EAAxD,IAA+D,aAAD,CAAgBC,IAAhB,CAAqBJ,GAAG,CAACE,IAAJ,CAASC,cAA9B,MAAkD,KADtF;AAAA;AAAA;AAAA;;AAE5BF,YAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,cAAAA,OAAO,EAAE;AADU,aAArB;AAF4B;AAAA;;AAAA;AAAA,kBAKnB,CAACP,GAAG,CAACE,IAAJ,CAASM,eAAV,IAA6BR,GAAG,CAACE,IAAJ,CAASM,eAAT,KAA6B,EAA1D,IAAiE,UAAD,CAAaJ,IAAb,CAAkBJ,GAAG,CAACE,IAAJ,CAASM,eAA3B,MAAgD,KAL7F;AAAA;AAAA;AAAA;;AAM5BP,YAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,cAAAA,OAAO,EAAE;AADU,aAArB;AAN4B;AAAA;;AAAA;AAUtBE,YAAAA,IAVsB,GAUfC,gBAAKC,KAAL,CAAWC,cAAX,CAA0BH,IAA1B,CAA+B,UAAAI,IAAI;AAAA,qBAAIA,IAAI,CAACC,EAAL,KAAYC,QAAQ,CAACf,GAAG,CAACgB,MAAJ,CAAWF,EAAZ,EAAgB,EAAhB,CAAxB;AAAA,aAAnC,CAVe;;AAAA,gBAWvBL,IAXuB;AAAA;AAAA;AAAA;;AAY1BT,YAAAA,GAAG,CAACE,IAAJ,CAASe,MAAT,GAAkBP,gBAAKC,KAAL,CAAWC,cAAX,CAA0BM,MAA5C;AAZ0B,0BAapBR,gBAAKC,KAAL,CAAWC,cAbS;AAAA;AAAA,mBAaiBF,gBAAKC,KAAL,CAAWQ,UAAX,CAAsBnB,GAAG,CAACE,IAA1B,CAbjB;;AAAA;AAAA;AAAA;AAAA,+BAaMkB,IAbN;;AAAA;AAc1BnB,YAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,cAAAA,OAAO,EAAE;AADU,aAArB;AAd0B;AAAA;;AAAA;AAkB1BP,YAAAA,GAAG,CAACE,IAAJ,CAASe,MAAT,GAAkBR,IAAI,CAACK,EAAvB;AAlB0B,0BAmBpBJ,gBAAKC,KAAL,CAAWC,cAnBS;AAAA,0BAmBaH,IAAI,CAACK,EAnBlB;AAAA;AAAA,mBAmB+BJ,gBAAKC,KAAL,CAAWQ,UAAX,CAAsBnB,GAAG,CAACE,IAA1B,CAnB/B;;AAAA;AAAA;AAAA;AAAA,+BAmBMmB,MAnBN,gCAmBsB,CAnBtB;;AAAA;AAoB1BpB,YAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,cAAAA,OAAO,EAAE;AADU,aAArB;;AApB0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhC;;AAAA;AAAA;AAAA;AAAA;;eA2BeT,eAAUC,mB","sourcesContent":["import data from '../models';\n// @ts-ignore\nimport bookAMeal from './index';\n\nbookAMeal.updateOneMealOption = async (req, res) => {\n  if (!req.body.mealOptionName || req.body.mealOptionName === '' || (/^[A-Za-z]+$/).test(req.body.mealOptionName) === false) {\n    res.status(400).send({\n      message: 'Fail! Meal option name is required OR must be letters',\n    });\n  } else if (!req.body.mealOptionPrice || req.body.mealOptionPrice === '' || (/^[0-9]+$/).test(req.body.mealOptionPrice) === false) {\n    res.status(400).send({\n      message: 'Fail! Meal option price is required OR must be numbers',\n    });\n  } else {\n    const find = data.meals.mealOptionList.find(meal => meal.id === parseInt(req.params.id, 10));\n    if (!find) {\n      req.body.mealId = data.meals.mealOptionList.length;\n      await data.meals.mealOptionList.push(await data.meals.mealFormat(req.body));\n      res.status(201).send({\n        message: 'Meal option not found! Meal option successfully created',\n      });\n    } else {\n      req.body.mealId = find.id;\n      await data.meals.mealOptionList.splice(find.id, 1, await data.meals.mealFormat(req.body));\n      res.status(200).send({\n        message: 'Meal option found! Meal option successfully updated',\n      });\n    }\n  }\n};\n\nexport default bookAMeal.updateOneMealOption;\n"],"file":"updateOneMealOption.js"}