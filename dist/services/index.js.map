{"version":3,"sources":["../../services/index.js"],"names":["Services","dataRes","dataMessage","array","data","resAction","dataParams","arrayData","findItem","find","item","id","parseInt","dataOne","dataTwo","dataOneTest","dataTwoTest","testResult","dataFormat","createdItem","length","push","number","sendData","status","send","message","updateId","updatedItem","splice","updateMessage","createMessage","nameOne","nameTwo","dataTwoTestRes","testInputs","testItem","findUpdate","findOne","updateOneRes","createOneRes","sendErr","processErr400","deleteId","name","price","res","reqErr","requiredNameErr","test","mustBeLettersErr","services"],"mappings":"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","sourcesContent":["class Services {\n  async getAll(dataRes, dataMessage, array) {\n    this.data = array;\n    this.resAction(200, dataRes, dataMessage, this.data);\n  }\n\n  findOne(dataParams, arrayData) {\n    this.findItem = arrayData.find(item => item.id === parseInt(dataParams.id, 10));\n    return this.findItem;\n  }\n\n  testItem(dataOne, dataTwo, dataOneTest, dataTwoTest) {\n    this.testResult = (dataOne && dataTwo && dataOneTest && dataTwoTest) === true;\n    return this.testResult;\n  }\n\n  createOneRes(arrayData, dataFormat) {\n    this.createdItem = dataFormat;\n    this.createdItem.id = arrayData.length;\n    arrayData.push(this.createdItem);\n    return this.createdItem;\n  }\n\n  resAction(number, dataRes, dataMessage, sendData) {\n    this.number = number;\n    dataRes.status(this.number).send({\n      message: dataMessage,\n      data: sendData,\n    });\n  }\n\n  updateOneRes(arrayData, dataFormat, updateId) {\n    this.updatedItem = dataFormat;\n    this.updatedItem.id = updateId;\n    arrayData.splice(updateId, 1, this.updatedItem);\n    return this.updatedItem;\n  }\n\n  updateOne(dataOne, dataTwo, dataOneTest, dataTwoTest, dataParams,\n    arrayData, dataRes, dataFormat, updateMessage, createMessage,\n    nameOne, nameTwo, dataTwoTestRes) {\n    this.testInputs = this.testItem(dataOne, dataTwo, dataOneTest, dataTwoTest);\n    this.findUpdate = this.findOne(dataParams, arrayData);\n    if (this.testInputs && this.findUpdate) {\n      this.resAction(200, dataRes, updateMessage,\n        this.updateOneRes(arrayData, dataFormat, this.findUpdate.id));\n      return;\n    }\n    if (this.testInputs) {\n      this.resAction(201, dataRes, createMessage, this.createOneRes(arrayData, dataFormat));\n      return;\n    }\n    this.sendErr(400, this.processErr400(dataOne, dataTwo,\n      nameOne, nameTwo, dataTwoTestRes), dataRes);\n  }\n\n  createOne(dataOne, dataTwo, dataOneTest, dataTwoTest,\n    arrayData, dataRes, dataFormat, createMessage,\n    nameOne, nameTwo, dataTwoTestRes) {\n    this.testInputs = this.testItem(dataOne, dataTwo, dataOneTest, dataTwoTest);\n    if (this.testInputs) {\n      this.resAction(201, dataRes, createMessage, this.createOneRes(arrayData, dataFormat));\n      return;\n    }\n    this.sendErr(400, this.processErr400(dataOne, dataTwo,\n      nameOne, nameTwo, dataTwoTestRes), dataRes);\n  }\n\n\n  deleteOne(dataRes, arrayData, deleteId) {\n    this.id = deleteId;\n    arrayData.splice(this.id, 1);\n    this.resAction(204, dataRes, false, false);\n  }\n\n  requiredNameErr(name) {\n    this.message = {\n      message: `Fail! ${name} is required`,\n    };\n    return this.message;\n  }\n\n  mustBeLettersErr(name) {\n    this.message = {\n      message: `Fail! ${name} must be letters`,\n    };\n    return this.message;\n  }\n\n  mustBeNumbersErr(price) {\n    this.message = {\n      message: `Fail! ${price} must be numbers`,\n    };\n    return this.message;\n  }\n\n  stringToArrayErr(name) {\n    this.message = {\n      message: `Fail! ${name} must be letters and seperated by spaces`,\n    };\n    return this.message;\n  }\n\n  sendErr(number, message, dataRes) {\n    this.res = dataRes;\n    this.res.status(number).send(message);\n  }\n\n  processErr400(dataOne, dataTwo, nameOne, nameTwo, dataTwoTestRes) {\n    if (!dataOne) {\n      this.reqErr = this.requiredNameErr(nameOne);\n      return this.reqErr;\n    }\n    if ((/^[A-Za-z]+$/).test(dataOne) === false) {\n      this.reqErr = this.mustBeLettersErr(nameOne);\n      return this.reqErr;\n    }\n    if (!dataTwo) {\n      this.reqErr = this.requiredNameErr(nameTwo);\n      return this.reqErr;\n    }\n\n    this.reqErr = dataTwoTestRes;\n    return this.reqErr;\n  }\n}\n\nconst services = new Services();\n\nexport default services;\n"],"file":"index.js"}